#	$OpenBSD: GENERIC,v 1.38 2005/05/09 15:32:19 uwe Exp $
#
# For further information on compiling OpenBSD kernels, see the config(8)
# man page.
#
# For further information on hardware support for this architecture, see
# the intro(4) man page.  For further information about kernel options
# for this architecture, see the options(4) man page.  For an explanation
# of each device driver in this file see the section 4 man page for the
# device.

machine		zaurus arm
include		"../../../conf/GENERIC"
maxusers	32			# estimated number of users

options		ARM32
#options	ARM_INTR_IMPL="<arch/arm/xscale/pxa2x0_intr.h>"
options		PXA2x0_INTR
options		PXAGPIO_HAS_GPION_INTRS

options		CACHE_CLEAN_BLOCK_INTR

makeoptions	KERNEL_BASE_PHYS="0xa0200000"
makeoptions	KERNEL_BASE_VIRT="0xc0200000"
makeoptions	BOARDTYPE="zaurus"

options		APERTURE

# CPU options
options		CPU_XSCALE_PXA2X0	# Support the XScale core
#options	XSCALE_CACHE_WRITE_THROUGH
options		XSCALE_CACHE_WRITE_BACK
makeoptions	CPUFLAGS="-mcpu=xscale"

option WSDISPLAY_COMPAT_USL		# VT handling
option WSDISPLAY_COMPAT_RAWKBD		# can get raw scancodes
option WSDISPLAY_DEFAULTSCREENS=2
option WSDISPLAY_COMPAT_PCVT		# emulate some ioctls

option USBVERBOSE

#config		bsd	swap generic
config		bsd	root on wd0a

# The main bus device
mainbus0	at root
cpu0		at mainbus?
pxaip0		at mainbus?

pxaintc0	at pxaip?		# interrupt controller
pxagpio0	at pxaip?		# GPIO
pxadmac0	at pxaip?		# DMA controller
scoop0		at pxaip?
scoop1		at pxaip?
saost0		at pxaip? addr 0x40a00000 size 0x20

# touch screen
zts0		at pxaip?
wsmouse*	at zts? mux 0

# keyboard
zkbd0		at pxaip?
wskbd*		at zkbd? mux 1

# USB controllers
pxaudc0		at pxaip?		# USB Device Controller
ohci0		at pxaip?		# Open Host Controller

# USB bus support
usb*		at ohci?
uhub*		at usb?			# USB Root Hub
uhub*		at uhub?		# USB Hub

# USB devices
umodem*		at uhub?		# USB Modems/Serial
ucom*		at umodem?
uvisor*		at uhub?		# Handspring Visor
ucom*		at uvisor?
uvscom*		at uhub?		# SUNTAC Slipper U VS-10U serial
ucom*		at uvscom?
ubsa*		at uhub?		# Belkin serial adapter
ucom*		at ubsa?
uftdi*		at uhub?		# FTDI FT8U100AX serial adapter
ucom*		at uftdi?
uplcom*		at uhub?		# I/O DATA USB-RSAQ2 serial adapter
ucom*		at uplcom?
umct*		at uhub?		# MCT USB-RS232 serial adapter
ucom*		at umct?
uaudio*		at uhub?		# USB Audio
audio*		at uaudio?
umidi*		at uhub?		# USB MIDI
midi*		at umidi?
ulpt*		at uhub?		# USB Printers
umass*		at uhub?		# USB Mass Storage devices
scsibus*	at umass?
uhidev*		at uhub?		# Human Interface Devices
ums*		at uhidev?		# USB mouse
wsmouse*	at ums? mux 0
ukbd*		at uhidev?		# USB keyboard
wskbd*		at ukbd? mux 1
uhid*		at uhidev?		# USB generic HID support
aue*		at uhub?		# ADMtek AN986 Pegasus Ethernet
atu*		at uhub?		# Atmel AT76C50x based 802.11b
axe*		at uhub?		# ASIX Electronics AX88172 USB Ethernet
cue*		at uhub?		# CATC USB-EL1201A based Ethernet
kue*		at uhub?		# Kawasaki KL5KUSB101B based Ethernet
cdce*		at uhub?		# CDC Ethernet
upl*		at uhub?		# Prolific PL2301/PL2302 host-to-host
udav*		at uhub?		# Davicom DM9601 based Ethernet
ural*		at uhub?		# Ralink RT2500
url*		at uhub?		# Realtek RTL8150L based adapters
wi*		at uhub?		# WaveLAN IEEE 802.11DS
urio*		at uhub?		# Diamond Multimedia Rio 500
uscanner*	at uhub?		# USB Scanners
usscanner*	at uhub?		# USB SCSI scanners, e.g., HP5300
scsibus*	at usscanner?
#uyap*		at uhub?		# Y@P firmware loader
udsbr*		at uhub?		# D-Link DSB-R100 radio
radio*		at udsbr?		# USB radio
#ubt*		at uhub?		# USB Bluetooth
ugen*		at uhub?		# USB Generic driver

sd*		at scsibus?
#st*		at scsibus?
cd*		at scsibus?
#ch*		at scsibus?
#ss*		at scsibus?
#uk*		at scsibus?

# integrated 16550 UARTs
options COM_PXA2X0
com0	at pxaip? addr 0x40100000 intr 22	# Full Function UART
com1	at pxaip? addr 0x40200000 intr 21	# BlueTooth UART
com2	at pxaip? addr 0x40700000 intr 20	# Standard UART (for IrDA)
options FFUARTCONSOLE
#options BTUARTCONSOLE
#options STUARTCONSOLE

pxapcic0	at pxaip?		# CF (pcmcia) support
pcmcia*		at pxapcic?
wi*		at pcmcia?
ne*		at pcmcia?
wdc*		at pcmcia?

wd0		at wdc? flags 0x0000	# IDE hard drives
wd*		at wdc? flags 0x0000

# PHY
exphy*	at mii?				# 3Com internal PHYs
inphy*	at mii?				# Intel 82555 PHYs
iophy*	at mii?				# Intel 82553 PHYs
icsphy*	at mii?				# ICS 1890 PHYs
lxtphy*	at mii?				# Level1 LXT970 PHYs
nsphy*	at mii?				# NS and compatible PHYs
nsphyter* at mii?			# NS and compatible PHYs
qsphy*	at mii?				# Quality Semi QS6612 PHYs
sqphy*	at mii?				# Seeq 8x220 PHYs
rlphy* at mii?				# RealTek 8139 internal PHYs
mtdphy* at mii?				# Myson MTD972 PHYs
#dcphy*	at mii?				# Digital Clone PHYs
acphy*	at mii?				# Altima AC101 PHYs
amphy*	at mii?				# AMD 79C873 PHYs
tqphy*	at mii?				# TDK 78Q212x PHYs
bmtphy*	at mii?				# Broadcom 10/100 PHYs
#brgphy* at mii?			# Broadcom Gigabit PHYs
#eephy* at mii?				# Marvell 88E1000 series PHY
#xmphy*	at mii?				# XaQti XMAC-II PHYs
nsgphy*	at mii?				# NS gigabit PHYs
urlphy*	at mii?				# Realtek RTL8150L internal PHY
#rgephy* at mii?			# Realtek 8169S/8110S PHY
#ciphy* at mii?				# Cicada CS8201 10/100/1000 copper PHY
ukphy*	at mii?				# "unknown" PHYs

lcd0		at pxaip?		# LCD
wsdisplay*	at lcd? console ?
zssp0		at pxaip?		# ADC, touch screen, backlight
apm0		at pxaip?		# APM emulation

zaudio0	at pxaip?			# Zaurus I2S/I2C sound
audio*	at zaudio?

# Pseudo-Devices
pseudo-device	wsmux		2	# mouse & keyboard multiplexor
pseudo-device	hotplug		1	# devices hot plugging
