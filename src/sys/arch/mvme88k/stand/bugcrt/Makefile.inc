#	$OpenBSD: Makefile.inc,v 1.7 2013/05/12 10:43:45 miod Exp $

BUG_CRT_DIR=${S}/arch/mvme88k/stand/bugcrt

BUGCRT_DIR!= cd ${BUG_CRT_DIR}; \
     printf "xxx:\n\techo \$${.OBJDIR}\n" | ${MAKE} -r -s -f - xxx

STAGE1_CRT=${BUGCRT_DIR}/stage1crt.o
STAGE2_CRT=${BUGCRT_DIR}/stage2crt.o
NETBOOT_CRT=${BUGCRT_DIR}/netcrt.o
SREC_CRT=${BUGCRT_DIR}/sreccrt.o

$(STAGE1_CRT):	.NOTMAIN __always_make_bugcrt
	@echo making sure stage1crt.o is up to date...
	@(cd ${BUG_CRT_DIR}; ${MAKE} stage1crt.o)

$(STAGE2_CRT):	.NOTMAIN __always_make_bugcrt
	@echo making sure stage2crt.o is up to date...
	@(cd ${BUG_CRT_DIR}; ${MAKE} stage2crt.o)

$(NETBOOT_CRT):	.NOTMAIN __always_make_bugcrt
	@echo making sure netcrt.o is up to date...
	@(cd ${BUG_CRT_DIR}; ${MAKE} netcrt.o)

$(SREC_CRT):	.NOTMAIN __always_make_bugcrt
	@echo making sure sreccrt.o is up to date...
	@(cd ${BUG_CRT_DIR}; ${MAKE} sreccrt.o)

__always_make_bugcrt:	.NOTMAIN
