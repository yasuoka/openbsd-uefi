#	$OpenBSD: M188,v 1.3 2001/02/12 08:16:21 smurph Exp $

machine mvme88k

maxusers 64

# processors this kernel should support

option		"M88000"	# support for 88K
option		MVME188		# support for 187
option		"NCPUS=1"	# Number of cpus supported (max 4)
option		UVM		# use the UVM virtual memory system

option		BUGMAP		# use Bug Rom VME Mappings

#option		INSECURE	# default to secure

option		TIMEZONE=0	# time zone to adjust RTC time by
option		DST=0		# daylight savings time used by RTC
option		NTP		# hooks supporting the Network Time Protocol

option		SWAPPAGER	# paging; REQUIRED
option		DEVPAGER	# mmap() of devices

option		DDB		# in-kernel debugger
#option		DDB_SAFE_CONSOLE # allow break into ddb during boot
#makeoptions	DEBUG="-g"	# compile full symbol table
#makeoptions	PROF="-pg"	# build profiled kernel
#option		GPROF		# kernel profiling, kgmon(8)
option		DIAGNOSTIC	# internal consistency checks
option		KTRACE		# system call tracing, a la ktrace(1)
option		KMEMSTATS	# collect malloc(9) statistics

option		CRYPTO		# Cryptographic framework

option		SYSVMSG		# System V-like message queues
option		SYSVSEM		# System V-like semaphores
option		SYSVSHM		# System V-like memory sharing

option		UVM_SWAP_ENCRYPT# support encryption of pages going to swap

#option		COMPAT_09	# Kernel compatibility with NetBSD 0.9,
#option		COMPAT_10	# NetBSD 1.0,
option		COMPAT_11	# NetBSD 1.1,
option		COMPAT_43	# and 4.3BSD
#option		TCP_COMPAT_42	# TCP bug compatibility with 4.2BSD

option		LKM		# loadable kernel modules

option		FFS		# UFS
option		QUOTA		# UFS quotas
#option		LFS		# log-structured file system
option		EXT2FS		# Second Extended Filesystem
option		MFS		# memory file system
#option		XFS		# xfs filesystem

option		TCP_SACK	# Selective Acknowledgements for TCP
#option		TCP_FACK	# Forward Acknowledgements for TCP
#option		TCP_SIGNATURE	# TCP MD5 Signatures, for BGP routing sessions

option		NFSCLIENT	# Network File System client
option		NFSSERVER	# Network File System server

option		CD9660		# ISO 9660 + Rock Ridge file system
option		MSDOSFS		# MS-DOS file system
option		FDESC		# /dev/fd
option		FIFO		# FIFOs; RECOMMENDED
option		KERNFS		# /kern
option		NULLFS		# loopback file system
option		PORTAL		# dynamically created filesystem objects
option		PROCFS		# /proc
option		UMAPFS		# NULLFS + uid and gid remapping
option		UNION		# union file system

#option		GATEWAY		# packet forwarding
option		INET		# IP + ICMP + TCP + UDP
option		INET6		# IPv6 (needs INET)
option		PULLDOWN_TEST	# use m_pulldown for IPv6 packet parsing
option		IPSEC		# IPsec
#option		KEY		# PF_KEY (implied by IPSEC)
#option		NS		# XNS
#option		NSIP		# XNS tunneling over IP
#option		IPX		# IPX+SPX
#option		IPXIP		# IPX tunneling over IP
#option		ISO,TPIP	# OSI
#option		EON		# OSI tunneling over IP
#option		NETATALK	# AppleTalk
#option		CCITT,LLC,HDLC	# X.25
option		IPFILTER	# IP packet filter for security
option		IPFILTER_LOG	# use /dev/ipl to log IPF
option		PPP_BSDCOMP	# PPP BSD compression
option		PPP_DEFLATE
#option		MROUTING	# Multicast router
#option		BOOT_CONFIG	# add support for boot -c


# ------------------------------ devices --------------------------------
mainbus0 at root

# ------------------------------ mainbus devices ------------------------
bugtty0 at mainbus0
syscon0 at mainbus0 addr 0xfff00000

# ------------------------------ syscon0 devices ------------------------
clock0	at syscon0 ipl 5
sclock0	at syscon0 ipl 5
nvram0	at syscon0 offset 0x80000
dart0	at syscon0 offset 0x82000 ipl 3
vme0	at syscon0 offset 0x85000

# ------------------------------ vme0 devices --------------------------
vmes0	at vme0
vmel0	at vme0

# ------------------------------ vmes0 devices -------------------------
vx0	at vmes0 addr 0xff780000 ipl 3 len 0x10000
vx1	at vmes0 addr 0xff790000 ipl 3 len 0x10000
vx2	at vmes0 addr 0xff7a0000 ipl 3 len 0x10000
vx3	at vmes0 addr 0xff7b0000 ipl 3 len 0x10000
ve0	at vmes0 addr 0xffff1200 ipl 1 len 0x100
ve1	at vmes0 addr 0xffff1400 ipl 1 len 0x100
ve2	at vmes0 addr 0xffff1600 ipl 1 len 0x100
vs0	at vmes0 addr 0xffff9000 ipl 2 len 0x800
vs1	at vmes0 addr 0xffff9800 ipl 2 len 0x800
vs2	at vmes0 addr 0xffff4800 ipl 2 len 0x800
vs3	at vmes0 addr 0xffff5800 ipl 2 len 0x800
vs4	at vmes0 addr 0xffff7000 ipl 2 len 0x800
vs5	at vmes0 addr 0xffff7800 ipl 2 len 0x800

# ------------------------------ svme0 devices -------------------------
scsibus* at vs?

# ------------------------------ scsibus devices ----------------------
sd*	at scsibus? target ? lun ?
st*	at scsibus? target ? lun ?
cd*	at scsibus? target ? lun ?

# ------------------------------ pseudo devices ------------------------
pseudo-device	rd 	2	# ram disk drives

pseudo-device	loop	2	# network loopback
pseudo-device	bpfilter 8	# packet filter
pseudo-device	sl	2	# CSLIP
pseudo-device	ppp	2	# PPP
pseudo-device	sppp		# Sync PPP/HDLC
pseudo-device	tun	2	# network tunneling over tty
pseudo-device	enc	1	# IPSEC needs the encapsulation interface
#pseudo-device	strip	1	# Starmode Radio IP interface

pseudo-device	pty	64	# pseudo-terminals
pseudo-device	tb	1	# tablet line discipline
pseudo-device	vnd	4	# paging to files
pseudo-device	ccd	4	# concatenated disk devices
pseudo-device	ksyms	1	# kernel symbols device
pseudo-device	bridge	2	# network bridging support
#pseudo-device	vlan 	2	# IEEE 802.1Q VLAN 
pseudo-device	gre	1	# GRE encapsulation interface

config	bsd swap on generic
